<div class="row mb-4">
  <h2 class="h2 border-left mx-3">
    {{tituloPagina}}
  </h2>
</div>

<form class="row g-3" [formGroup]="recursosFormulario">
  <div class="card">

    <div class="card-body">
      <div class="form-body">
        <div class="row g-3">

          <!-- nome -->
          <div class="form-group col-md-4">
            <label for="nome" class="form-label">Preencha com seu nome completo</label>
            <input type="text"
              class="form-control"
              id="nome"
              formControlName="nome"
              placeholder="Nome Completo">

              <div class="text-danger" *ngIf="recursosFormulario.get('nome')!['invalid'] && recursosFormulario.get('nome')!['touched']">
                <div *ngIf="recursosFormulario.get('nome')?.errors!['required']">
                  Dado Obrigatório
                </div>
                <div *ngIf="recursosFormulario.get('nome')?.errors!['minlength']">
                  Deve ter no mínimo 3 caracteres
                </div>
                <div *ngIf="recursosFormulario.get('nome')?.errors!['pattern']">
                  Por gentileza, insira apenas letras
                </div>
              </div>
          </div>

          <!-- profissão -->
          <div class="form-group col-md-4">
            <label for="profissao" class="form-label">Preencha com a sua profissão</label>
            <input type="text"
              class="form-control"
              id="profissao"
              formControlName="profissao"
              placeholder="Profissão">

            <div class="text-danger" *ngIf="recursosFormulario.get('profissao')!['invalid'] && recursosFormulario.get('profissao')!['touched']">
              <div *ngIf="recursosFormulario.get('profissao')?.errors!['required']">
                Dado Obrigatório
              </div>
              <div *ngIf="recursosFormulario.get('profissao')?.errors!['minlength']">
                Deve possuir no mínimo 3 caracteres
              </div>
              <div *ngIf="recursosFormulario.get('profissao')?.errors!['pattern']">
                Por gentileza, insira apenas letras
              </div>
            </div>
          </div>

          <!-- cpf -->
          <div class="form-group col-md-4">
            <label for="cpf" class="form-label">Preencha com seu CPF</label>
            <input [imask]="imaskCpf"
              type="text"
              class="form-control"
              id="cpf"
              formControlName="cpf"
              placeholder="CPF">

            <div class="text-danger"
            *ngIf="recursosFormulario.pristine &&
            recursosFormulario.get('cpf')!['invalid'] &&
            recursosFormulario.get('cpf')!['touched']">
              <div *ngIf="recursosFormulario.get('cpf')?.errors!['required']">
                Por gentileza, insira os 11 números do seu CPF
              </div>
            </div>
          </div>

          <!-- email -->
          <div class="form-group col-md-4">
            <label for="email" class="form-label">Preencha com um e-mail válidol</label>
            <input [imask]="imaskEmail"
              type="text"
              class="form-control"
              id="email"
              formControlName="email"
              placeholder="nome@email.com">

              <div class="text-danger" *ngIf="recursosFormulario.get('email')!['invalid'] && recursosFormulario.get('email')!['touched']">
                <div *ngIf="recursosFormulario.get('email')?.errors!['required']">
                  Dado Obrigatório
                </div>
                <div *ngIf="recursosFormulario.get('email')?.errors!['email']">
                  Deve ser informado um e-mail válido!
                </div>
              </div>

          </div>

          <!-- data -->
          <div class="form-group col-md-4">
            <label for="data" class="mb-2"> Preencha com sua data de nascimento</label>
            <input [imask]="imaskData"
              type="text"
              class="form-control"
              id="data"
              formControlName="data"
              placeholder="Data de Nascimento">

            <div class="text-danger" *ngIf="recursosFormulario.get('data')!['invalid'] && recursosFormulario.get('data')!['touched']">
              <div *ngIf="recursosFormulario.get('data')?.errors!['required']">
                É necessário informar sua data de nascimento
              </div>
              <div class="text-danger"*ngIf="recursosFormulario.get('data')?.errors!['menorIdade']">
                Você precisa ter mais de 18 anos para realizar o cadastro
              </div>
            </div>
          </div>

          <!-- cep -->
          <div class="form-group col-md-4">
            <label for="cep" class="form-label">Preencha com seu CEP</label>
            <input [imask]="imaskCep"
              type="text"
              class="form-control"
              id="cep"
              formControlName="cep"
              placeholder="CEP">

            <div class="text-danger" *ngIf="recursosFormulario.get('cep')!['invalid'] && recursosFormulario.get('cep')!['touched']">
              <div *ngIf="recursosFormulario.get('cep')?.errors!['required']">
                Dado Obrigatório
              </div>
              <div *ngIf="recursosFormulario.get('cep')?.errors!['minlength']">
                Deve possuir 8 digitos
              </div>
            </div>
          </div>

          <!-- celular -->
          <div class="form-group col-md-4">
            <label for="cel" class="form-label">Preencha com seu celular</label>
            <input [imask]="imaskCel"
              type="text"
              class="form-control"
              id="cel"
              formControlName="cel"
              placeholder="Celular">

            <div class="text-danger" *ngIf="recursosFormulario.get('cel')!['touched'] && recursosFormulario.get('cel')!['invalid']">
              <div *ngIf="recursosFormulario.get('cel')?.errors!['required']">
                Dado Obrigatório
              </div>
              <div *ngIf="recursosFormulario.get('cel')?.errors!['minlength']">
                Deve possuir 11 digitos
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-secondary btn-lg float-right mt-3" routerLink="/">
          Cancelar
      </button>

      <button [disabled]="recursosFormulario['invalid']" type="submit" class="btn btn-primary btn-lg float-right mt-3" (click)="enviaForm" routerLink = {{rota}}>
        Salvar
    </button>
    </div>

  </div>
</form>
